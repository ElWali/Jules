<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Schema</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <div class="logo">
            <a href="index.html">RQpedia</a>
        </div>
        <nav class="nav-links">
            <a href="sites.html">Browse data</a>
            <a href="database.html">Database</a>
            <a href="#">About</a>
            <a href="#">Contribute</a>
            <a href="#">Contact</a>
        </nav>
        <div class="header-actions">
            <button class="search-button">Search</button>
            <button class="signin-button">Donate</button>
        </div>
    </header>

    <main class="container">
        <div class="info-card">
            <div style="padding: 20px;">
                <h1>Data Structure</h1>
                <hr>
                <p>
                    The data for this project is stored in a single JSON file: <code>output.json</code>. This file contains an array of records, where each record represents a single dated sample or measurement from an archaeological site.
                </p>

                <h2>Main Record Structure</h2>
                <p>Each record in the <code>output.json</code> array is an object with the following primary fields:</p>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Data Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Field"><code>id</code></td>
                            <td data-label="Data Type">Integer</td>
                            <td data-label="Description">Unique identifier for the record.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>site</code></td>
                            <td data-label="Data Type">String</td>
                            <td data-label="Description">Name of the archaeological site.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>country</code></td>
                            <td data-label="Data Type">String</td>
                            <td data-label="Description">Country where the site is located.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>lat</code></td>
                            <td data-label="Data Type">Float</td>
                            <td data-label="Description">Latitude of the site in decimal degrees.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>lng</code></td>
                            <td data-label="Data Type">Float</td>
                            <td data-label="Description">Longitude of the site in decimal degrees.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>material</code></td>
                            <td data-label="Data Type">String</td>
                            <td data-label="Description">The material of the sample (e.g., charcoal, bone).</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Radiocarbon Dates</h2>
                <p>Radiocarbon dates are identified by the presence of <code>bp</code> and <code>std</code> fields in a record. Key fields include:</p>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Data Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Field"><code>labnr</code></td>
                            <td data-label="Data Type">String</td>
                            <td data-label="Description">The unique laboratory number for the sample.</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>bp</code></td>
                            <td data-label="Data Type">Integer</td>
                            <td data-label="Description">Radiocarbon age in years Before Present (BP).</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>std</code></td>
                            <td data-label="Data Type">Integer</td>
                            <td data-label="Description">Standard deviation of the radiocarbon age.</td>
                        </tr>
                    </tbody>
                </table>
                <p>In some cases, detailed C14 data is also stored in a doubly-stringified JSON field called <code>c14</code>.</p>

                <h2>Typological Dates & References</h2>
                <p>Typological dates and bibliographic references are often stored in fields that contain doubly-stringified JSON. This is a known data quality issue that requires special parsing.</p>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Field"><code>periods</code></td>
                            <td data-label="Description">Contains typological date information, such as the period name (e.g., "Neolithic").</td>
                        </tr>
                        <tr>
                            <td data-label="Field"><code>reference</code></td>
                            <td data-label="Description">Contains bibliographic citations for the record.</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
            <p><a href="https://github.com/xronos-ch/xronos.rails/">View source on GitHub</a></p>
        </div>
    </footer>
</body>
</html>
