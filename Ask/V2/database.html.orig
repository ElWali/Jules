<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Schema</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <div class="logo">
            <a href="index.html">RQpedia</a>
        </div>
        <nav class="nav-links">
            <a href="sites.html">Browse data</a>
            <a href="database.html">Database</a>
            <a href="#">About</a>
            <a href="#">Contribute</a>
            <a href="#">Contact</a>
        </nav>
        <div class="header-actions">
            <button class="search-button">Search</button>
            <button class="signin-button">Donate</button>
        </div>
    </header>

    <main class="container">
        <div class="info-card">
            <div style="padding: 20px;">
                <h1>Database</h1>
                <hr>
                <p>
                The general logic of the xronos.rails database is best understood from the perspective of the
                <b>arch_object</b> entity. <b>Archaeological objects</b> are dated artefacts or samples with
                archaeological context information.
                </p>

                <!-- #### Links to models #### -->
                <svg height="190px" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <!-- 1 -->
                  <a xlink:href="https://xronos.ch/database/arch_objects"><text transform="rotate(-90, 100, 100)" x="80" y="10" fill="#000">arch_object</text></a>
                  <!-- 2 -->
                  <a xlink:href="https://xronos.ch/database/samples"><text x="30" y="15" fill="#000">sample</text></a>
                  <a xlink:href="https://xronos.ch/database/site_phases"><text x="30" y="60" fill="#000">site_phase</text></a>
                  <a xlink:href="https://xronos.ch/database/on_site_object_positions"><text x="30" y="150" fill="#000">on_site</text></a>
                  <a xlink:href="https://xronos.ch/database/materials"><text x="30" y="165" fill="#000">material</text></a>
                  <a xlink:href="https://xronos.ch/database/species"><text x="30" y="180" fill="#000">species</text></a>
                  <!-- 3 -->
                  <a xlink:href="https://xronos.ch/database/measurements"><text x="120" y="15" fill="#000">meas</text></a>
                  <a xlink:href="https://xronos.ch/database/sites"><text x="120" y="60" fill="#000">site</text></a>
                  <a xlink:href="https://xronos.ch/database/site_types"><text x="120" y="90" fill="#000">site_t</text></a>
                  <a xlink:href="https://xronos.ch/database/periods"><text x="120" y="105" fill="#000">period</text></a>
                  <a xlink:href="https://xronos.ch/database/typochronological_units"><text x="120" y="120" fill="#000">typo</text></a>
                  <a xlink:href="https://xronos.ch/database/ecochronological_units"><text x="120" y="135" fill="#000">eco</text></a>
                  <a xlink:href="https://xronos.ch/database/feature_types"><text x="120" y="150" fill="#000">feature_t</text></a>
                  <!-- 4 -->
                  <a xlink:href="https://xronos.ch/database/c14_measurements"><text x="210" y="15" fill="#000">c14_meas</text></a>
                  <a xlink:href="https://xronos.ch/database/references"><text x="210" y="30" fill="#000">reference</text></a>
                  <a xlink:href="https://xronos.ch/database/labs"><text x="210" y="45" fill="#000">lab</text></a>
                  <a xlink:href="https://xronos.ch/database/countries"><text x="210" y="60" fill="#000">country</text></a>
                  <a xlink:href="https://xronos.ch/database/fell_phases"><text x="210" y="75" fill="#000">fell_phase</text></a>
                  <!-- vlines: left to right-->
                  <line y1="0"   x1="20"  y2="175" x2="20"  stroke-width="0.5" stroke="#000"/>
                  <line y1="0"   x1="110" y2="139" x2="110" stroke-width="0.5" stroke="#000"/>
                  <line y1="0"   x1="200" y2="79"  x2="200" stroke-width="0.5" stroke="#000"/>
                  <!-- hlines: top to bottom -->
                  <line y1="19"  x1="200" y2="19"  x2="290" stroke-width="0.5" stroke="#000"/>
                  <line y1="34"  x1="200" y2="34"  x2="290" stroke-width="0.5" stroke="#000"/>
                  <line y1="49"  x1="20"  y2="49"  x2="290" stroke-width="0.5" stroke="#000"/>
                  <line y1="64"  x1="200" y2="64"  x2="290" stroke-width="0.5" stroke="#000"/>
                  <line y1="79"  x1="110" y2="79"  x2="290" stroke-width="0.5" stroke="#000"/>
                  <line y1="94"  x1="110" y2="94"  x2="200" stroke-width="0.5" stroke="#000"/>
                  <line y1="109" x1="110" y2="109" x2="200" stroke-width="0.5" stroke="#000"/>
                  <line y1="124" x1="110" y2="124" x2="200" stroke-width="0.5" stroke="#000"/>
                  <line y1="139" x1="20"  y2="139" x2="200" stroke-width="0.5" stroke="#000"/>
                  <line y1="154" x1="20"  y2="154" x2="200" stroke-width="0.5" stroke="#000"/>
                  <line y1="169" x1="20"  y2="169" x2="110" stroke-width="0.5" stroke="#000"/>
                </svg>

                <p>
                The database was modelled with an Entity Relationship (ER) diagram:
                </p>

                <img width="100%" src="https://xronos.ch/assets/xronos_erd-1c804ede.png" />

                <p>Some help on how to read this chart:</p>

                <ul>
                  <li><b>Boxes:</b> Entity. An entity is a class of objects in the real world (e.g. <i>archaeological sites</i>)
                    that can be described with a set of attributes (e.g. <i>name, number of documented houses, spatial
                    position</i>). All entities will become tables in database.</li>
                  <li><b>Diamonds:</b> Relationship. Relationships describe the relations and interaction of entities
                    (e.g. the <i>radiocarbon laboratory</i> is linked to the <i>sample</i> via the process of <i>measurement</i>).
                    Some relationships have additional arguments (the <i>measurement</i> produces a <i>labnr</i>, happens at
                    a certain <i>time</i> and has a specific <i>price</i> tag). Some relationships will become tables in the
                    database, others won't. That depends on the nature of the relationship.</li>
                  <li><b>Lines:</b> Lines connect entities and relationships. Each line has a label to describe the amount
                    of objects within an entity that can or have to be part of that relationship. Some examples:
                    <i>(0,*)</i>: Zero or many objects can be part of that that relationship. <i>(1,1)</i>: Exactly one object
                    can be part of that relationship. That also implies that each object has to have exactly one
                    partner in this specific relationship. <i>(0,1)</i>: Each object linked to the relationship has zero or
                    one partner within the other linked entity. </li>
                </ul>

                <p>
                The source file for this visualisation can be found here:
                <a href="https://github.com/xronos-ch/xronos.rails/blob/master/xronos_structure/xronos_erd.dia">xronos_erd.dia</a>
                (this file can be opened and edited with the diagram editor software <a href="http://dia-installer.de/">Dia</a>)
                </p>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
            <p><a href="https://github.com/xronos-ch/xronos.rails/">View source on GitHub</a></p>
        </div>
    </footer>
</body>
</html>
